<div>
	<form id="searchDatabaseForm">
	<!-- <form id="searchDatabaseForm" ng-submit="searchDatabase()"> -->


		<fieldset>
			<!-- search field info -->
			<h4>Search for Scores</h4>
			<!-- search by athlete or meet -->
			<select ng-model="searchDatabaseFor">
				<option value="" selected>Search by</option>
				<option value="athletes">Athletes</option>
				<option value="meets" ng-model="meetsOption">Meets</option>
			</select>
			<!-- athletes or meet to search for -->
			<input type="text" ng-model="athleteOrMeetToSearch" placeholder="athlete(s) or meet name"></input>
		</fieldset>
		<!-- TODO: add submit button -->

	</form>

	<!-- live-updating search results for athletes -->
	<div ng-if="searchDatabaseFor==='athletes'">
		<table>
			<tr>
				<th>Athlete 1</th>
				<th>Athlete 2</th>
				<th>Athlete 3</th>
				<th>Athlete 4</th>
				<th>Team Name</th>
			</tr>
			<tr ng-repeat="group in athleteList | filter: athleteOrMeetToSearch" ng-click="$parent.searchDatabaseAthletes(group.athlete1, group.athlete2, group.athlete3, group.athlete4, group.teamName)">
				<td>{{group.athlete1}}</td>
				<td>{{group.athlete2}}</td>
				<td>{{group.athlete3}}</td>
				<td>{{group.athlete4}}</td>
				<td>{{group.teamName}}</td>
			</tr>
		</table>
	</div>

	<!-- live-updating search results for meets -->
	<div ng-if="searchDatabaseFor==='meets'">
		<table>
			<tr>
				<th>Meet Name</th>
				<th>Year</th>
			</tr>
			<tr ng-repeat="meet in meetList | filter: athleteOrMeetToSearch" ng-click="$parent.searchDatabaseMeets(meet.meetName, meet.meetYear)">
				<td>{{meet.meetName}}</td>
				<td>{{meet.meetYear}}</td>
			</tr>
		</table>
	</div>

	<!-- score listings, athletes view -->
	<div ng-show="scoreQueryLoaded() && showMeetsOrAthletes==='athletes'">
		<h3>view scores from the database</h3>
		<h4>
			<span>Athletes:</span>
			<span>{{scoresQueried.data[0].athlete1}}</span><span>, {{scoresQueried.data[0].athlete2}}</span><span ng-show="thirdAthlete">, {{scoresQueried.data[0].athlete3}}</span><span ng-show="fourthAthlete">, {{scoresQueried.data[0].athlete4}}</span>
		</h4>
		<h4>
			<span>Team:</span>
			<span>{{scoresQueried.data[0].teamName}}</span>
		</h4>
		<table>
			<tr>
				<th>Meet</th>
				<th>Year</th>
				<th>Level/Age Group</th>
				<th>Routine</th>
				<th>Execution</th>
				<th>Artistry</th>
				<th>Difficulty</th>
				<th>Penalties</th>
				<th>Score</th>
				<th>Meet Total</th>
			</tr>
			<tr ng-repeat="score in scoresQueried.data | orderBy:['-meetYear', meetName]">
				<td>{{score.meetName}}</td>
				<td>{{score.meetYear}}</td>
				<td>level/age group</td>
				<td>{{score.routineType}}</td>
				<td>{{score.execution}}</td>
				<td>{{score.artistry}}</td>
				<td>{{score.difficulty}}</td>
				<td>{{score.penalties}}</td>
				<td>{{score.total}}</td>
				<td>{{meetTotal(score.meetName)}}</td>
			</tr>
		</table>
	</div>

	<!-- score listings, meet view -->
	<div ng-show="scoreQueryLoaded() && showMeetsOrAthletes==='meets'">
		<h3>view scores from the database</h3>
		<h4>
			<span>Meet:</span>
			<span>{{scoresQueried.data[0].meetName}}</span>
		</h4>
		<h4>
			<span>Year:</span>
			<span>{{scoresQueried.data[0].meetYear}}</span>
		</h4>
		<table>
			<tr>
				<th>Athletes</th>
				<th>Team</th>
				<th>Level/Age Group</th>
				<th>Routine</th>
				<th>Execution</th>
				<th>Artistry</th>
				<th>Difficulty</th>
				<th>Penalties</th>
				<th>Score</th>
				<th>Meet Total</th>
			</tr>
			<tr ng-repeat="score in scoresQueried.data | orderBy:['total']">
				<td>level/age group</td>
				<td><span>{{scoresQueried.data[0].athlete1}}</span><span>, {{scoresQueried.data[0].athlete2}}</span><span ng-show="thirdAthlete">, {{scoresQueried.data[0].athlete3}}</span><span ng-show="fourthAthlete">, {{scoresQueried.data[0].athlete4}}</span></td>
				<td>{{score.teamName}}</td>
				<td>{{score.routineType}}</td>
				<td>{{score.execution}}</td>
				<td>{{score.artistry}}</td>
				<td>{{score.difficulty}}</td>
				<td>{{score.penalties}}</td>
				<td>{{score.total}}</td>
				<td>{{meetTotal(score.meetName)}}</td>
			</tr>
		</table>
	</div>

</div>